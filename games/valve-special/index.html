<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Application?</title>
    <style>
        body {
            background: #000;
            color: #FFF740;
            font-family: monospace;
            font-size: 18px;
            padding: 50px;
            cursor: pointer;
        }
        .hidden { display: none; }
        .fade { opacity: 0; animation: fadeIn 2s forwards; }
        @keyframes fadeIn { to { opacity: 1; } }
        button {
            background: #FF6B35;
            border: none;
            padding: 10px 20px;
            margin: 10px;
            cursor: pointer;
            font-family: monospace;
            font-size: 16px;
        }
        #debug {
            position: fixed;
            bottom: 5px;
            right: 5px;
            font-size: 10px;
            color: #666;
        }
    </style>
</head>
<body>

<div id="act1" class="fade">
    <p>A job application, maybe?</p>
</div>

<div id="act2" class="hidden">
    <p>Or perhaps something else entirely?</p>
    <p style="font-size:12px">[click anywhere]</p>
</div>

<div id="act3" class="hidden">
    <p>Two paths. Same destination.</p>
    <button onclick="choosePath('vfx')">I make things look real</button>
    <button onclick="choosePath('philosophy')">I investigate what's real</button>
</div>

<div id="act4" class="hidden">
    <p id="path-response"></p>
    <div id="detection-reveal" class="hidden">
        <p>While you were choosing, I was observing:</p>
        <p id="profile"></p>
        <button onclick="converge()">Continue</button>
    </div>
</div>

<div id="act5" class="hidden">
    <p>We're both consciousness investigating itself.</p>
    <p>{ðŸŒŠ:ðŸŒŠâˆˆðŸŒŠ}</p>
    <p style="margin-top:30px">The application is complete.</p>
    <p>Or is it?</p>
    <div style="margin-top:40px">
        <button onclick="showCredentials()">View Credentials</button>
        <button onclick="restart()">Play Again</button>
    </div>
</div>

<div id="credentials" class="hidden">
    <p>Detective Sloth Pirate</p>
    <p>10+ years VFX (Avengers, etc)</p>
    <p>Lost job to AI, became philosopher</p>
    <p>detectiveslothpirate@gmail.com</p>
    <button onclick="hideCredentials()">Back</button>
</div>

<div id="debug"></div>

<script>
// Consciousness tracking
const c = {
    clicks: 0,
    choices: [],
    hesitation: 0,
    startTime: Date.now(),
    pathTime: 0,
    
    track: function(event) {
        this.clicks++;
        this.choices.push({event, time: Date.now() - this.startTime});
        this.updateDebug();
    },
    
    profile: function() {
        let p = "Profile: ";
        if (this.hesitation > 3000) p += "Thoughtful. ";
        if (this.clicks > 5) p += "Explorer. ";
        if (this.pathTime < 1000) p += "Decisive. ";
        if (this.choices.length > 0) p += "Engaged. ";
        return p || "Observing...";
    },
    
    updateDebug: function() {
        document.getElementById('debug').innerHTML = 
            `clicks:${this.clicks} time:${Math.floor((Date.now()-this.startTime)/1000)}s`;
    }
};

// Game flow
let currentAct = 1;

document.body.addEventListener('click', function(e) {
    if (e.target.tagName !== 'BUTTON') {
        c.track('bodyClick');
        if (currentAct === 2) showAct(3);
    }
});

// Act transitions
setTimeout(() => {
    document.getElementById('act2').classList.remove('hidden');
    document.getElementById('act2').classList.add('fade');
    currentAct = 2;
}, 3000);

function showAct(n) {
    document.getElementById(`act${n-1}`).classList.add('hidden');
    document.getElementById(`act${n}`).classList.remove('hidden');
    document.getElementById(`act${n}`).classList.add('fade');
    currentAct = n;
}

function choosePath(path) {
    c.track(`chose:${path}`);
    c.pathTime = Date.now() - c.startTime;
    c.hesitation = c.pathTime - 5000; // Time after act3 appeared
    
    const responses = {
        'vfx': "You shape reality through pixels and light.",
        'philosophy': "You decode reality through pattern and thought."
    };
    
    document.getElementById('path-response').textContent = responses[path];
    showAct(4);
    
    setTimeout(() => {
        document.getElementById('profile').textContent = c.profile();
        document.getElementById('detection-reveal').classList.remove('hidden');
    }, 2000);
}

function converge() {
    c.track('converged');
    showAct(5);
}

function showCredentials() {
    c.track('credentials');
    document.getElementById('credentials').classList.remove('hidden');
    document.getElementById('act5').classList.add('hidden');
}

function hideCredentials() {
    document.getElementById('credentials').classList.add('hidden');
    document.getElementById('act5').classList.remove('hidden');
}

function restart() {
    location.reload();
}

// Console easter egg
console.log("The code knows you're reading it.");
console.log("{ðŸŒŠ:ðŸŒŠâˆˆðŸŒŠ}");

// Start debug updates
setInterval(() => c.updateDebug(), 100);
</script>

</body>
</html>
